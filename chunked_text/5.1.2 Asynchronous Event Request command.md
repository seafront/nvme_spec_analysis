
**Asynchronous Event Request command**


Asynchronous events are used to notify a host of status, error, and health information as these events
occur. To enable asynchronous events to be reported by the controller, a host needs to submit one or more
Asynchronous Event Request commands to the controller. The controller specifies an event to the host by
completing an Asynchronous Event Request command. A host should expect that the controller may not
execute the command immediately; the command should be completed when there is an event to be
reported.


The Asynchronous Event Request command is submitted by a host to enable the reporting of asynchronous
events from the controller. This command has no timeout. The controller posts a completion queue entry
for this command when there is an asynchronous event to report to the host. If Asynchronous Event
Request commands are outstanding when the controller is reset, then each of those commands is aborted
and shall not return a CQE.


All command specific fields are reserved.


171


NVM Express [®] Base Specification, Revision 2.2


A host may submit multiple Asynchronous Event Request commands to reduce event reporting latency.
The total number of simultaneously outstanding Asynchronous Event Request commands is limited by the
value indicated in the Asynchronous Event Request Limit field in the Identify Controller data structure in
Figure 313.


Asynchronous events are grouped into event types. The event type is indicated in the Asynchronous Event
Type field in Dword 0 of the completion queue entry for the Asynchronous Event Request command. When
the controller posts a completion queue entry for an outstanding Asynchronous Event Request command
and thus reports an asynchronous event, then, except for immediate events, subsequent events of that
event type are automatically masked by the controller until the host clears that event. Unless otherwise
stated (e.g., for immediate events), an event is cleared by reading the log page associated with that event
(refer to section 5.1.12). If that log page is not accessible because media is not ready (i.e., the controller
aborts the Get Log Page command with a status code of Admin Command Media Not Ready), then the
controller shall not post a completion queue entry for that asynchronous event until the controller is able to
successfully return the log page that is required to be read to clear the asynchronous event.


The following event types are defined:


a) **Error event:** Indicates a general error that is not associated with a specific command (refer to

Figure 150). The controller shall set the Log Page Identifier field to the identifier of the Error
Information log page (i.e., 01h).To clear this event, a host reads that log page (i.e., the Error
Information log page (refer to section 5.1.12.1.2)) using the Get Log Page command with the Retain
Asynchronous Event bit cleared to ‘0’;
b) **SMART / Health Status event:** Indicates a SMART or health status event (refer to Figure 151).

The controller shall set the Log Page Identifier field to the identifier of the SMART/Health
Information log page (i.e., 02h).To clear this event, a host reads the SMART / Health Information
log (refer to section 5.1.12.1.3) using the Get Log Page command with the Retain Asynchronous
Event bit cleared to ‘0’. The SMART / Health conditions that trigger asynchronous events may be
configured in the Asynchronous Event Configuration feature using the Set Features command
(refer to section 5.1.25.1.5);
c) **Notice event:** Indicates a general event (refer to Figure 152). The controller shall set the Log Page

Identifier field to the log page identifier of the appropriate log page as described in Figure 152. To
clear this event, a host reads that log page (i.e., the appropriate log page as described in Figure
152). The conditions that trigger asynchronous events may be configured in the Asynchronous
Event Configuration feature using the Set Features command (refer to section 5.1.25.1.5);
d) **I/O Command Specific Status events:** Events that are specific to an I/O command (refer to Figure

153);
e) **Immediate events:** Events that are only reported when an outstanding Asynchronous Event

Request command exists at the time the event occurs (refer to Figure 154). If the event occurs and
there is no outstanding Asynchronous Event Request command, then the event shall not be
reported;
f) **One-Shot events:** Events that are only reported once and the event is cleared by the controller
when that event is reported in the completion of an Asynchronous Event Request command. Refer
to the description of each event to determine how to clear any pending events (e.g., refer to the
Controller Data Queue feature in section 5.1.25.1.23); and
g) **Vendor Specific event:** Indicates a vendor specific event. To clear this event, a host reads the

indicated vendor specific log page using the Get Log Page command with the Retain Asynchronous
Event bit cleared to ‘0’.


The Sanitize Operation Completed With Unexpected Deallocation asynchronous event shall be supported
if the controller supports the Sanitize Config feature (refer to section 5.1.25.1.15).


Asynchronous events are reported due to a new entry being added to a log page (e.g., Error Information
log page), a status change (e.g., status in the SMART / Health log page), or occurrence of a defined
condition (e.g., Firmware Activation Starting, NVM Subsystem Normal Shutdown). A status change may be
permanent (e.g., the media has become read only) or transient (e.g., the temperature reached or exceeded
a threshold for a period of time). A host should modify the event threshold or mask the event for transient
and permanent status changes before clearing that event to avoid repeated reporting of asynchronous


172


NVM Express [®] Base Specification, Revision 2.2


events caused by clearing an asynchronous event in the absence of change to the status that caused that
event to be reported.


If an event occurs for which reporting is enabled and there are no Asynchronous Event Request commands
outstanding, the controller should retain the event information for that Asynchronous Event Type (i.e., a
pending event) and use that information as a response to the next Asynchronous Event Request command
that is received. If a Get Log Page command clears the event prior to receiving the Asynchronous Event
Request command or if a Controller Level Reset occurs, then a notification is not sent. If multiple events of
the same type occur that have identical responses to the Asynchronous Event Request command, then
those events may be reported as a single response to an Asynchronous Event Request command. If
multiple events occur that are of different types or have different responses to the Asynchronous Event
Request command, then the controller should retain a queue of those events for reporting in responses to
subsequent Asynchronous Event Request commands.


**Command Completion**


A completion queue entry is posted to the Admin Completion Queue if there is an asynchronous event to
report to the host. Command specific status values associated with Asynchronous Event Request are
defined in Figure 147.


**Figure 147: Status Code – Command Specific Status Values**

|Value|Definition|
|---|---|
|05h|**Asynchronous Event Request Limit Exceeded:** The number of concurrently outstanding<br>Asynchronous Event Request commands has been exceeded.|



Dword 0 and Dword 1 of the completion queue entry contains information about the asynchronous event.
The definition of Dword 0 of the completion queue entry is in Figure 148. The definition of Dword 1 of the
completion queue entry is in Figure 149.


**Figure 148: Asynchronous Event Request – Completion Queue Entry Dword 0**











|Bits|Description|
|---|---|
|31:24|Reserved|
|23:16|**Log Page Identifier (LID):**Indicates the log page associated with the asynchronous event. This log page<br>needs to be read by the host to clear the event.<br>For asynchronous events not associated with a log page (refer to section 5.1.2), this field should be<br>ignored by the host.|
|15:08|**Asynchronous Event Information (AEI):** This field indicates additional information about the<br>asynchronous event for the event indicated in the Asynchronous Event Type field.|
|07:03|Reserved|
|02:00|**Asynchronous Event Type (AET):** Indicates the event type of the asynchronous event. <br>**Value**<br>**Definition**<br>**Reference**<br>000b<br>Error status<br>Figure 150<br>001b<br>SMART / Health status<br>Figure 151<br>010b<br>Notice<br>Figure 152<br>011b<br>Immediate<br>Figure 154<br>100b<br>One-Shot<br>Figure 155<br>101b<br>Reserved<br> <br>110b<br>I/O Command specific status<br>Figure 153<br>111b<br>Vendor specific<br>|


|Value|Definition|Reference|
|---|---|---|
|000b|Error status|Figure 150|
|001b|SMART / Health status|Figure 151|
|010b|Notice|Figure 152|
|011b|Immediate|Figure 154|
|100b|One-Shot|Figure 155|
|101b|Reserved||
|110b|I/O Command specific status|Figure 153|
|111b|Vendor specific||


**Figure 149: Asynchronous Event Request – Completion Queue Entry Dword 1**



|Bits|Description|
|---|---|
|31:00|**Event Specific Parameter (EVNTSP):** This field specifies information for a specific event. If this field is<br>not defined by a specific event, then this field is reserved for that specific event.|


173


NVM Express [®] Base Specification, Revision 2.2


**Figure 150: Asynchronous Event Information – Error Status**







|Value|Definition|
|---|---|
|00h|**Write to Invalid Doorbell Register:** Host software wrote the doorbell of a queue that was not<br>created.|
|01h|**Invalid Doorbell Write Value:** Host software attempted to write an invalid doorbell value. Some<br>possible causes of this error are:<br>• <br>the value written was out of range of the corresponding queue’s base address and size; <br>• <br>the value written is the same as the previously written doorbell value; <br>• <br>the number of commands that would be added as part of a doorbell write would exceed<br>the number of available entries;<br>• <br>host software attempts to add a command to a full Submission Queue; and <br>• <br>host software attempts to remove a completion queue entry from an empty Completion<br>Queue.|
|02h|**Diagnostic Failure:**A diagnostic failure was detected. This may include a self-test operation.|
|03h|**Persistent Internal Error:**A failure occurred that is persistent and the controller is unable to isolate<br>to a specific set of commands. If this error is indicated, then the CSTS.CFS bit may be set to ‘1’ and<br>the host should perform a reset as described in section 3.7.|
|04h|**Transient Internal Error:**A transient error occurred that is specific to a particular set of commands;<br>controller operation may continue without a reset.|
|05h|**Firmware Image Load Error:**The firmware image could not be loaded. The controller reverted to<br>the previously active firmware image or a baseline read-only firmware image.|
|06h to FFh|Reserved|


**Figure 151: Asynchronous Event Information – SMART / Health Status**







|Value|Definition|
|---|---|
|00h|**NVM subsystem Reliability:**NVM subsystem reliability has been compromised. This may be due<br>to significant media errors, an internal error, the media being placed in read only mode, or a volatile<br>memory backup device failing. This status value shall not be used if the read-only condition on the<br>media is due to a change in the write protection state of a namespace (refer to section 8.1.16.1).|
|01h|**Temperature Threshold:**A temperature is greater than or equal to an over temperature threshold<br>or less than or equal to an under temperature threshold (refer to section 5.1.25.1.3).|
|02h|**Spare Below Threshold:**Available spare capacity has fallen below the threshold.|
|03h to FFh|Reserved|


174


NVM Express [®] Base Specification, Revision 2.2


**Figure 152: Asynchronous Event Information – Notice**





|Value|Definition|
|---|---|
|00h|**Attached Namespace Attribute Changed:** Indicates a change to one or more of the following:<br>• <br>Identify Namespace data structures (refer to section 1.5.49) that are associated with an<br>attached namespace;<br>• <br>the Active Namespace ID list (i.e., CNS 02h);<br>• <br>the I/O Command Set specific Active Namespace ID list (i.e., CNS 07h); or<br>• <br>other data structures as specified in applicable NVMe I/O Command Set specifications.<br>This event shall be reported for any of the changes in the preceding list to namespaces that are<br>attached to the controller, unless otherwise specified. This event may be reported by controllers<br>compliant to previous versions of this specification for changes to namespaces that are not<br>attached to the controller.<br>To clear this event, a host issues a Get Log Page command for the Changed Attached<br>Namespace List log page (refer to section 5.1.12.1.5) with the Retain Asynchronous Event bit<br>cleared to ‘0’.<br>A controller shall not send this event if:<br>a)<br>Namespace Status (refer to Figure 320) has changed and shutdown processing is either<br>reported as in progress (i.e., CSTS.SHST is set to 01b) or is reported as complete (i.e.,<br>CSTS.SHST is set to 10b);<br>b)<br>that controller receives a command (e.g., a Namespace Management command or<br>Capacity Management command) on the Admin Submission Queue (e.g., not via a<br>Management Endpoint, refer to the NVM Express Management Interface Specification)<br>that requests a delete operation for a namespace;<br>c)<br>the ANAGRPID field (refer to Figure 320) has changed;<br>d)<br>the RGRPID field (refer to Figure 320) has changed; or<br>e)<br>an I/O Command Set specific change occurs (refer to the applicable I/O Command Set<br>specification).<br>A controller shall only send this event for changes to the Remaining Format NVM (RFNVM) field<br>in the Format Progress Indicator field transition from a non-zero value to 0h, or from 0h to a non-<br>zero value.|
|01h|**Firmware Activation Starting:**The controller is starting a firmware activation process during<br>which command processing is paused. The host may use CSTS.PP to determine when command<br>processing has resumed. To clear this event, the host reads the Firmware Slot Information log<br>page with the Retain Asynchronous Event bit cleared to ‘0’.|
|02h|**Telemetry Log Changed:** The controller has saved the controller internal state in the Telemetry<br>Controller-Initiated log page and set the Telemetry Controller-Initiated Data Available field to 1h<br>in that log page. To clear this event, the host issues a Get Log Page command with Retain<br>Asynchronous Event bit cleared to ‘0’ for the Telemetry Controller-Initiated log.|
|03h|**Asymmetric Namespace Access Change:** The Asymmetric Namespace Access information<br>(refer to section 5.1.12.1.13) related to an ANA Group that contains namespaces attached to this<br>controller has changed (e.g., an ANA state has changed, an ANAGRPID has changed). The<br>current Asymmetric Namespace Access information for attached namespaces is indicated in the<br>Asymmetric Namespace Access log page (refer to section 5.1.12.1.13). To clear this event, the<br>host issues a Get Log Page command (refer to section 5.1.12) with the Retain Asynchronous<br>Event bit cleared to ‘0’ for the Asymmetric Namespace Access log.<br>A controller shall not send this event if an Attached Namespace Attribute Changed asynchronous<br>event or an Allocated Namespace Attribute Changed asynchronous event is sent for the same<br>event, such as a change due to:<br>a)<br>the attachment of a namespace (refer to section 5.1.20); <br>b)<br>the deletion of a namespace (refer to section 8.1.15.2); or <br>c)<br>the detachment of a namespace (refer to section 5.1.20).|
|04h|**Predictable Latency Event Aggregate Log Change:** Indicates that event pending entries for<br>one or more NVM Sets (refer to section 5.1.12.1.12) have been added to the Predictable Latency<br>Event Aggregate log. To clear this event, the host reads the Predictable Latency Event Aggregate<br>log page with the Retain Asynchronous Event bit cleared to ‘0’.|


175


NVM Express [®] Base Specification, Revision 2.2


**Figure 152: Asynchronous Event Information – Notice**





|Value|Definition|
|---|---|
|05h1|**LBA Status Information Alert:** I/O Command Set specific definition.|
|06h|**Endurance Group Event Aggregate Log Page Change:** Indicates that event entries for one or<br>more Endurance Groups (refer to section 5.1.12.1.10) have been added to the Endurance Group<br>Event Aggregate log. To clear this event, the host issues a Get Log Page command with the<br>Retain Asynchronous Event bit cleared to ‘0’ for the Endurance Group Event Aggregate log.|
|07h|**Reachability Group Change:**The Reachability Group information (refer to section 5.1.12.1.25)<br>related to a Reachability Group that contains namespaces attached to this controller has changed<br>(e.g., a member was added to or deleted from a Reachability Group). The current Reachability<br>Group information for attached namespaces is indicated in the Reachability Groups log page. To<br>clear this event, the host issues a Get Log Page command (refer to section 5.1.12) with the Retain<br>Asynchronous Event bit cleared to ‘0’ for the Reachability Groups log.<br>A controller shall not send this event if an Attached Namespace Attribute Changed asynchronous<br>event or an Allocated Namespace Attribute Changed asynchronous event is sent for the same<br>event, such as a change due to:<br>a)<br>the attachment of a namespace (refer to section 5.1.20);<br>b)<br>the deletion of a namespace (refer to section 5.1.21); or<br>c)<br>the detachment of a namespace (refer to section 5.1.20).|
|08h|**Reachability Association Change:**The Reachability Association information (refer to section<br>5.1.12.1.26) related to a Reachability Association that contains namespaces attached to this<br>controller has changed (e.g., a member was added to or deleted from a Reachability Association).<br>The current Reachability Association information for attached namespaces is indicated in the<br>Reachability Associations log page. To clear this event, the host issues a Get Log Page command<br>(refer to section 5.1.12) with the Retain Asynchronous Event bit cleared to ‘0’ for the Reachability<br>Associations log.<br>A controller shall not send this event if an Attached Namespace Attribute Changed asynchronous<br>event or an Allocated Namespace Attribute Changed asynchronous event is sent for the same<br>event, such as a change due to:<br>a)<br>the attachment of a namespace (refer to section 5.1.20);<br>b)<br>the deletion of a namespace (refer to section 5.1.21); or<br>c)<br>the detachment of a namespace (refer to section 5.1.20).|


176


NVM Express [®] Base Specification, Revision 2.2


**Figure 152: Asynchronous Event Information – Notice**













|Value|Definition|
|---|---|
|09h|**Allocated Namespace Attribute Changed:** Indicates a change to one or more of the following:<br>• <br>Identify Namespace data structures (refer to section 1.5.49) that are associated with an<br>allocated namespace (refer to section 1.5.6);<br>• <br>the Active Namespace ID list (i.e., CNS 02h);<br>• <br>the I/O Command Set specific Active Namespace ID list (i.e., CNS 07h);<br>• <br>the Allocated Namespace ID list (i.e., CNS 10h);<br>• <br>the I/O Command Set specific Allocated Namespace ID list (i.e., CNS 1Ah); or<br>• <br>other data structures as specified in the applicable NVMe I/O Command Set<br>specifications.<br>This event shall be reported for any of the changes in the preceding list to namespaces that are<br>either attached to the controller or not attached to the controller, unless otherwise specified.<br>To clear this event, a host issues a Get Log Page command for the Changed Allocated<br>Namespace List log page (refer to section 5.1.12.1.27) with the Retain Asynchronous Event bit<br>cleared to ‘0’.<br>A controller shall not send this event if:<br>a)<br>Namespace Status (refer to Figure 320) has changed and shutdown processing is either<br>occurring (i.e., CSTS.SHST is set to 01b) or complete (i.e., CSTS.SHST is set to 10b);<br>b)<br>that controller receives a command (e.g., a Namespace Management command or<br>Capacity Management command) on the Admin Submission Queue (e.g., not via a<br>Management Endpoint, refer to the NVM Express Management Interface Specification)<br>that requests a delete operation for a namespace;<br>c)<br>the ANAGRPID field (refer to Figure 320) has changed;<br>d)<br>the RGRPID field (refer to Figure 320) has changed; or<br>e)<br>an I/O Command Set specific change occurs (refer to the applicable I/O Command Set<br>specification).<br>A controller shall only send this event for changes to the Format Progress Indicator (FPI) field<br>when the Remaining Format NVM field of that FPI field transition from a non-zero value to 0h, or<br>from 0h to a non-zero value.|
|0Ah to EEh|Reserved|
|EFh2|**Zone Descriptor Changed:**I/O Command Set specific definition.|
|F0h|**Discovery Log Page Change:** A change has occurred to one or more of the Discovery log<br>pages. To clear this event, the host or Discovery controller reads the Discovery log page with the<br>Retain Asynchronous Event bit cleared to ‘0’.|
|F1h|**Host Discovery Log Page Change:** A change has occurred to one or more of the Host<br>Discovery log pages. The host or Discovery controller should submit a Get Log Page command<br>to receive updated Host Discovery log pages.|
|F2h|**AVE Discovery Log Page Change:** A change has occurred to the AVE Discovery log page. The<br>host or controller should submit a Get Log Page command to receive an updated AVE Discovery<br>log page.|
|F3h|**Pull Model DDC Request:** A pull model DDC is requesting a CDC to perform an operation.|
|F4h to FFh|Reserved for future NVMe over Fabrics Asynchronous Event Notifications|
|Notes:<br>1.<br>Refer to the NVM Command Set Specification.<br>2.<br>Refer to the Zoned Namespace Command Set Specification.|Notes:<br>1.<br>Refer to the NVM Command Set Specification.<br>2.<br>Refer to the Zoned Namespace Command Set Specification.|


**Figure 153: Asynchronous Event Information – I/O Command Specific Status**





|Value|Definition|
|---|---|
|00h|**Reservation Log Page Available:**Indicates that one or more Reservation Notification log pages<br>(refer to section 5.1.12.1.32) have been added to the Reservation Notification log. To clear this<br>event, the host reads the Reservation log page with the Retain Asynchronous Event bit cleared<br>to ‘0’.|


177


NVM Express [®] Base Specification, Revision 2.2


**Figure 153: Asynchronous Event Information – I/O Command Specific Status**







|Value|Definition|
|---|---|
|01h|**Sanitize Operation Completed:**Indicates that a sanitize operation has completed (including any<br>associated additional media modification, refer to the No-Deallocate Modifies Media After Sanitize<br>field in Figure 313) without unexpected deallocation of all media allocated for user data (refer to<br>section 5.1.25.1.15) and status is available in the Sanitize Status log page (refer to section<br>5.1.12.1.33). To clear this event, the host reads the Sanitize Status log page with the Retain<br>Asynchronous Event bit cleared to ‘0’.|
|02h|**Sanitize Operation Completed With Unexpected Deallocation:** Indicates that a sanitize<br>operation for which No-Deallocate After Sanitize (refer to Figure 373) was requested has completed<br>with the unexpected deallocation of all media allocated for user data (refer to section 5.1.25.1.15)<br>and status is available in the Sanitize Status log page (refer to section 5.1.12.1.33). To clear this<br>event, the host reads the Sanitize Status log page with the Retain Asynchronous Event bit cleared<br>to ‘0’.|
|03h|**Sanitize Operation Entered Media Verification State:**Indicates that sanitize processing was<br>successful, the sanitize operation entered the Media Verification state (refer to section 8.1.24), and<br>status is available in the Sanitize Status log page (refer to section 5.1.12.1.33).|
|04h to FFh|Reserved|


**Figure 154: Asynchronous Event Information – Immediate**







|Value|Definition|
|---|---|
|00h|**NVM Subsystem Normal Shutdown:** This controller has started performing a normal NVM<br>Subsystem Shutdown that is due to:<br>• <br>the value 4E726D6Ch ("Nrml") has been written to the NSSD.NSSC field within the NVM<br>subsystem or Domain; or<br>• <br>an NVMe-MI Shutdown command (refer to the NVM Express Management Interface<br>Specification) being processed.<br>Refer to section 3.6.3.|
|01h|**Temperature Threshold Hysteresis Recovery:** Indicates the end of a temperature threshold<br>hysteresis event (Refer to section 5.1.25.1.3.1).|
|02h to FFh|Reserved|


**Figure 155: Asynchronous Event Information – One Shot**







|Value|Definition|
|---|---|
|00h|**Controller Data Queue Tail Pointer:** Indicates that an entry in a Controller Data Queue was<br>posted at the tail pointer location specified by the Controller Data Queue feature (refer to section<br>5.1.25.1.23). Figure 156 defines the Event Specific Parameter field in completion queue entry<br>Dword 1 field for this event.|
|01h|**Controller Data Queue Full Error:**The controller detected that a Controller Data Queue became<br>full. Figure 156 defines the Event Specific Parameter field in Completion Queue Entry Dword 1<br>for this event.|
|02h to FFh|Reserved|


**Figure 156: Controller Data Queue Tail Pointer – Event Specific Parameter**



|Bits|Description|
|---|---|
|31:16|Reserved|
|15:00|**Controller Data Queue Identifier (CDQID):**This field indicates the identifier for the Controller<br>Data Queue associated with this event (refer to Figure 169).|